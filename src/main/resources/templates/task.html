<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/fonts/iconic/css/material-design-iconic-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/animate/animate.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/css-hamburgers/hamburgers.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/animsition/css/animsition.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/select2/select2.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/vendor/daterangepicker/daterangepicker.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="/css/util.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">

    <!--===============================================================================================-->

    <title>Task page</title>
</head>
<body>
<div class="right">
    <button>Log out</button>
</div>
<div id="task-page" class="grid-container fade-in">
    <div></div>
    <div>
        <header class="content-center m-t-20">
            <h1 th:text="${session.get('username') + 's To Do List'}"></h1>
        </header>
        <form th:action="@{/task/add}" id="task-form" class="wrap" method="post">
            <div class="wrap-input100">
                <input id="header-input" name="title" class="input100">
                <span class="focus-input100" data-placeholder="Header"></span>
            </div>
            <div class="wrap-input100">
                <input id="text-input" name="description" class="input100">
                <span class="focus-input100" data-placeholder="Description"></span>
            </div>
            <div class="wrap-input100">
                <input id="deadline" name="date" class="input100" type="date"
                       min="2024-01-01" max="9999-12-31">
                <span class="focus-input100"></span>
            </div>
            <div class="container-login100-form-btn">
                <div class="wrap-login100-form-btn">
                    <div class="login100-form-bgbtn"></div>
                    <button id="add-button" class="login100-form-btn">
                        Add task
                    </button>
                </div>
            </div>
        </form>

        <ul class="colum-center flex-end wrap m-t-10 fade-in" id="task-list" th:each="task: ${tasks}">
            <li class="fade-in" style="display: flex;">
                <span class="header" th:text="${task.getTitle()}"/>
                <button class="delete-button"><a style="text-decoration: none ; color: inherit" th:href="'/task/' + ${task.getId()}">Details</a></button>
                <input type="checkbox" onchange="check(this.parentElement)" class="checkbox"></li>
        </ul>
        <ul id="pagination-container" class="content-center fade-in">

        </ul>
    </div>
</div>
<script src="/vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="/vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
<script src="/vendor/bootstrap/js/popper.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<!--==============================================================================================-->
<script src="/vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
<script src="/vendor/daterangepicker/moment.min.js"></script>
<script src="/vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
<script src="/vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
<script src="/js/login.js"></script>
<script>
    function check(liElement) {
        let checkbox = liElement.querySelector(".checkbox");
        let header = liElement.querySelector(".header");
        if (checkbox.checked) {
            header.classList.add("strikethrough-animation");
            liElement.classList.add("done");
        } else {
            header.classList.remove("strikethrough-animation");
            liElement.classList.remove("done");
        }
    }
</script>
</body>
</html>
